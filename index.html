<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="This package is a suite of helper functions that can be used at Gavi. It mainly has functions 
  to help simplify repeat procedures, like loading common data, gavi specific colors and themes for plots and tables, 
  and functions which add and filter common varibles like country groupings and iso3 codes.">
<title>Custom Functions for Gavi • gavir</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Custom Functions for Gavi">
<meta property="og:description" content="This package is a suite of helper functions that can be used at Gavi. It mainly has functions 
  to help simplify repeat procedures, like loading common data, gavi specific colors and themes for plots and tables, 
  and functions which add and filter common varibles like country groupings and iso3 codes.">
<meta property="og:image" content="https://joshualorin.github.io/gavir/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">gavir</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="id_-gavir">
 gavir<a class="anchor" aria-label="anchor" href="#id_-gavir"></a>
</h1>
</div>
<!-- badges: start -->
<!-- badges: end -->
<p>This package is a suite of helper functions that can be used at Gavi. It has functions to help simplify repeat procedures, like loading common data, gavi specific colors and themes for plots and tables, and functions which add and filter common varibles like country groupings and iso3 codes.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of gavir from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"joshualorin/gavir"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a>
</h2>
<p>You can use the <code>get_*()</code> functions to load data:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://joshualorin.github.io/gavir/">gavir</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span>, warn.conflicts <span class="op">=</span> <span class="cn">F</span>, verbose <span class="op">=</span> <span class="cn">F</span><span class="op">)</span></span>
<span><span class="co">#&gt; ── Attaching packages ─────────────────────────────────────── tidyverse 1.3.2 ──</span></span>
<span><span class="co">#&gt; ✔ ggplot2 3.4.2      ✔ purrr   0.3.4 </span></span>
<span><span class="co">#&gt; ✔ tibble  3.1.8      ✔ dplyr   1.0.10</span></span>
<span><span class="co">#&gt; ✔ tidyr   1.2.0      ✔ stringr 1.5.0 </span></span>
<span><span class="co">#&gt; ✔ readr   2.1.3      ✔ forcats 0.5.2 </span></span>
<span><span class="co">#&gt; ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──</span></span>
<span><span class="co">#&gt; ✖ dplyr::filter() masks stats::filter()</span></span>
<span><span class="co">#&gt; ✖ dplyr::lag()    masks stats::lag()</span></span>
<span></span>
<span><span class="co"># all functions require a version date</span></span>
<span><span class="fu"><a href="reference/get_groupings.html">get_groupings</a></span><span class="op">(</span><span class="st">"2023-07"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Reading in groupings file dated: 2023-07</span></span>
<span><span class="co">#&gt; Interesting! The groupings file you have selected is not the most recent. If this was unintentional, you can update to the most recent file, which is 2023-08</span></span>
<span><span class="co">#&gt; # A tibble: 196 × 61</span></span>
<span><span class="co">#&gt;    iso3  iso3_num iso2  country count…¹ lang  global gavi77 gavi73 gavi72 gavi68</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 AFG          4 AF    Afghan… Afghan… eng        1      1      1      1      1</span></span>
<span><span class="co">#&gt;  2 AGO         24 AO    Angola  Angola  eng        1      1      1      1      1</span></span>
<span><span class="co">#&gt;  3 ALB          8 AL    Albania Albania eng        1      1      0      0      0</span></span>
<span><span class="co">#&gt;  4 AND         20 AD    Andorra Andorra eng        1      0      0      0      0</span></span>
<span><span class="co">#&gt;  5 ARE        784 AE    United… United… eng        1      0      0      0      0</span></span>
<span><span class="co">#&gt;  6 ARG         32 AR    Argent… Argent… eng        1      0      0      0      0</span></span>
<span><span class="co">#&gt;  7 ARM         51 AM    Armenia Armenia eng        1      1      1      1      1</span></span>
<span><span class="co">#&gt;  8 ATG         28 AG    Antigu… Antigu… eng        1      0      0      0      0</span></span>
<span><span class="co">#&gt;  9 AUS         36 AU    Austra… Austra… eng        1      0      0      0      0</span></span>
<span><span class="co">#&gt; 10 AUT         40 AT    Austria Austria eng        1      0      0      0      0</span></span>
<span><span class="co">#&gt; # … with 186 more rows, 50 more variables: gavi57 &lt;dbl&gt;, gavi55 &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   mics45 &lt;dbl&gt;, dov96 &lt;dbl&gt;, vimc112 &lt;dbl&gt;, who_region &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   gavi_region &lt;chr&gt;, gavi_region_short &lt;chr&gt;, pef_type &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   continental_africa &lt;dbl&gt;, francophone &lt;chr&gt;, indo_pacific &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   regional_je &lt;dbl&gt;, regional_mena &lt;dbl&gt;, regional_yfv_2016 &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   regional_yfv_2020 &lt;dbl&gt;, regional_ipv &lt;dbl&gt;, segments_2020 &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   segments_2021 &lt;chr&gt;, segments_2022 &lt;chr&gt;, segments_2023 &lt;chr&gt;, …</span></span>
<span></span>
<span><span class="co"># and most have additional parameters you can fiddle with</span></span>
<span><span class="fu"><a href="reference/get_ihme.html">get_ihme</a></span><span class="op">(</span><span class="st">"2023-02"</span>, source <span class="op">=</span> <span class="st">"subnational"</span>, vaccine <span class="op">=</span> <span class="st">"dtp3"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Reading in Subnational IHME file dated 2023-02 and aggregated to polio shapes</span></span>
<span><span class="co">#&gt; Rows: 1217964 Columns: 17── Column specification ────────────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; Delimiter: ","</span></span>
<span><span class="co">#&gt; chr (8): iso3, admin2, admin2_code, vaccine, admin1, admin1_code, pop_model,...</span></span>
<span><span class="co">#&gt; dbl (9): year, coverage, pu1_final, unvax_total, pct_unvax, upper, lower, pu...</span></span>
<span><span class="co">#&gt; ℹ Use `spec()` to retrieve the full column specification for this data.</span></span>
<span><span class="co">#&gt; ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</span></span>
<span><span class="co">#&gt; # A tibble: 1,217,964 × 17</span></span>
<span><span class="co">#&gt;    iso3  admin2     admin…¹  year vaccine cover…² pu1_f…³ unvax…⁴ pct_u…⁵ admin1</span></span>
<span><span class="co">#&gt;    &lt;chr&gt; &lt;chr&gt;      &lt;chr&gt;   &lt;dbl&gt; &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt; </span></span>
<span><span class="co">#&gt;  1 ETH   MAO KOMO … {00061…  2000 dtp1      0.293   1723.   1218.   0.707 BENES…</span></span>
<span><span class="co">#&gt;  2 ETH   MAO KOMO … {00061…  2001 dtp1      0.430   1760.   1003.   0.570 BENES…</span></span>
<span><span class="co">#&gt;  3 ETH   MAO KOMO … {00061…  2002 dtp1      0.413   1792.   1052.   0.587 BENES…</span></span>
<span><span class="co">#&gt;  4 ETH   MAO KOMO … {00061…  2003 dtp1      0.377   1807.   1126.   0.623 BENES…</span></span>
<span><span class="co">#&gt;  5 ETH   MAO KOMO … {00061…  2004 dtp1      0.448   1846.   1019.   0.552 BENES…</span></span>
<span><span class="co">#&gt;  6 ETH   MAO KOMO … {00061…  2005 dtp1      0.536   1885.    874.   0.464 BENES…</span></span>
<span><span class="co">#&gt;  7 ETH   MAO KOMO … {00061…  2006 dtp1      0.617   1906.    730.   0.383 BENES…</span></span>
<span><span class="co">#&gt;  8 ETH   MAO KOMO … {00061…  2007 dtp1      0.671   1931.    636.   0.329 BENES…</span></span>
<span><span class="co">#&gt;  9 ETH   MAO KOMO … {00061…  2008 dtp1      0.723   1955.    542.   0.277 BENES…</span></span>
<span><span class="co">#&gt; 10 ETH   MAO KOMO … {00061…  2009 dtp1      0.747   1958.    496.   0.253 BENES…</span></span>
<span><span class="co">#&gt; # … with 1,217,954 more rows, 7 more variables: admin1_code &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   pop_model &lt;chr&gt;, pop_adjustment &lt;chr&gt;, upper &lt;dbl&gt;, lower &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   pu1_uncalib &lt;dbl&gt;, pu1_calib &lt;dbl&gt;, and abbreviated variable names</span></span>
<span><span class="co">#&gt; #   ¹​admin2_code, ²​coverage, ³​pu1_final, ⁴​unvax_total, ⁵​pct_unvax</span></span></code></pre></div>
<p><code>theme_*()</code> and <code>scale_*()</code> functions allow for standard gavi formatting and colors:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">wuenic</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">iso3</span> <span class="op">==</span> <span class="st">"AFG"</span> <span class="op">&amp;</span> <span class="va">vaccine</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"dtp1"</span>, <span class="st">"dtp3"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="reference/pipe.html">%&gt;%</a></span></span>
<span> <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span><span class="va">year</span>, <span class="va">coverage</span>, color <span class="op">=</span> <span class="va">vaccine</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span> <span class="fu">geom_line</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span> <span class="fu">geom_point</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span> <span class="fu"><a href="reference/scale_color_gavi.html">scale_color_gavi</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span> <span class="fu"><a href="reference/theme_gavi.html">theme_gavi</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-plot-1.png" width="100%"></p>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing gavir</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Joshua Lorin <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-6441-2555" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Joshua Lorin.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
